ftp to get list of all stocks:
  ftp://ftp.nasdaqtrader.com/
  * files are under SymbolDirectory/nasdaqlisted.txt/otherlisted.txt

Yahoo Finance api:
  https://developer.yahoo.com/yql/console/?q=select%20%2a%20from%20yahoo.finance.quote%20where%20symbol%20in%20%28%22YHOO%22%2C%22AAPL%22%2C%22GOOG%22%2C%22MSFT%22%29&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys#h=select+symbol%2C+MarketCapitalization+from+yahoo.finance.quote+where+symbol+in+(%22AAAP%22)